import discord
from discord.ext import commands
import requests
import random

intents = discord.Intents.default()

intents.message_content =True

bot=commands.Bot(command_prefix = "/", intents=intents)

UNSPLASH_ACCESS_KEY = 'tNa1o0OAlRI5iP21YbAdqLEap7we2ZyF4gSRXjDhCs8'#AQUI DBE IR LA CLAVE DE ACCESO A LA API DE UNPLASH

@bot.event
async def on_reday():
    print(f"Has activado a {bot.user}")


def get_duck_image_url():    
    url = 'https://random-d.uk/api/random'
    res = requests.get(url)
    data = res.json()
    return data['url']


def get_contamination_image():
    query = "contaminacion"
    url = f"https://api.unsplash.com/photos/random?query={query}&client_id={UNSPLASH_ACCESS_KEY}" #Crea la URL de la API de Unsplash, utilizando una f-string para incluir la variable query y la clave de acceso UNSPLASH_ACCESS_KEY. La URL solicita una imagen aleatoria relacionada con la contaminaciÃ³n desde Unsplash.
    response = requests.get(url) #Realiza una solicitud HTTP GET a la URL definida. Se utiliza la biblioteca requests para obtener datos desde la API de Unsplash.
    data = response.json()
    return data['urls']


#PATO
@bot.command()
async def pato(ctx):
    '''Una vez que llamamos al comando duck, 
    el programa llama a la funciÃ³n get_duck_image_url'''
    image_url = get_duck_image_url
    await ctx.send('Esto no tiene nada que ver con la contaminacion pero bueno aqui esta tu pato ğŸ¦†:')
    await ctx.send(get_duck_image_url)

#SALUDO
@bot.command()
async def hola(ctx):
    await ctx.send(f'Hola soy {bot.user}, y estoy aqui para darte consejos,ayudarte,dar retos e informarte de como ayudar al medio ambiiente, CREADOR: Diego Zabala')
    await ctx.send('Aqui los comandos: /reto, /consejo, /descompsicion + el objeto deseado, /reciclaje + el objeto deseado, /meme, /image, /cuidar, /emoji, /info, ğŸ‘ˆ(ï¾Ÿãƒ®ï¾ŸğŸ‘ˆ) ')

#INFO
@bot.command()
async def info(ctx):
    await ctx.send('El sufrimiento de nuestro planeta es un problema complejo que requiere la acciÃ³n colectiva de individuos, comunidades, gobiernos y organizaciones. Cada pequeÃ±o esfuerzo cuenta, y al adoptar hÃ¡bitos mÃ¡s sostenibles, podemos contribuir a un futuro mÃ¡s saludable y equilibrado para la Tierra. La educaciÃ³n, la concienciaciÃ³n y la acciÃ³n son claves para lograr un cambio positivo. Â¡Juntos podemos marcar la diferencia! ğŸŒ')
    await ctx.send('Aqui info de lo que sufre el planeta cada aÃ±o y como puedes ayudarlo(âÂ´â—¡`â)')

#CUIDADO DEL PLANETA
@bot.command()
async def cuidar(ctx):
    await ctx.send('Puedes cuidar el medio ambiente reduciendo, reutilizando y reciclando, ahorrando energÃ­a y agua, usando transporte sostenible, reduciendo el consumo de carne, plantando Ã¡rboles y evitando el plÃ¡stico de un solo uso. Comparte estos hÃ¡bitos y apoya energÃ­as renovables. ğŸŒ')
    await ctx.send('ğŸŒ±ğŸª´â˜˜ï¸ğŸŒ²ğŸŒ³ğŸŒ´ğŸŒµğŸŒ¾ğŸŒ¿ğŸ€ğŸğŸ‚ğŸƒğŸŒ¹ğŸŒ¼ğŸŒ·ğŸŒ»ğŸª»')

#DESCOMPOSICION    
descomposicion_materiales = {
    "botella":500,
    "lata":50,
    "bolsa":150,
    "vidrio":4000
}


@bot.command()
async def descomposicion(ctx, objeto: str):
    objeto = objeto.lower()

    if objeto in descomposicion_materiales:
        tiempo = descomposicion_materiales[objeto]
        
        await ctx.send(f"El objeto {objeto},dura aprox {tiempo} en descomponerseğŸ•")
        if tiempo >= 100:
            await ctx.send(f"Ayuda el planeta se muere(Ë˜ï½¥_ï½¥Ë˜)")
    else: 
        await ctx.send("Este objeto no esta aqui,lo lamentoãƒ¾(âŒâ– _â– )ãƒâ™ª")

#RECICLAJE
reciclaje_ideas = {
    "plastico": ["macetas para plantas", "joyerÃ­a artesanal", "ladrillos ecolÃ³gicos"],
    "papel": ["cuadernos reciclados", "decoraciones para el hogar", "papel machÃ©"],
    "vidrio": ["lÃ¡mparas decorativas", "jarrones", "ladrillos de vidrio"],
    "metal": ["macetas", "arte decorativo", "portavelas"],
    "carton": ["organizadores de escritorio", "casitas para mascotas", "manualidades infantiles"],
}


@bot.command()
async def reciclaje(ctx, elemento: str):

    elemento = elemento.lower()  # Convertir a minÃºsculas para evitar errores de entrada
    
    if elemento in reciclaje_ideas:
        objetos = reciclaje_ideas[elemento]
        await ctx.send(f"Con {elemento} puedes hacer: {objetos}.")
    else:
        await ctx.send("Lo siento, no tengo esa fundacion aqui")

#MEMES
meme_ambiental = [
    'https://th.bing.com/th/id/R.a6199ce1c035cdec0f918090dc32aed3?rik=ukq1zMgeITh2zQ&pid=ImgRaw&r=0&sres=1&sresct=1',
    'https://i.ytimg.com/vi/cbivSo19IkU/hqdefault.jpg',
    'https://th.bing.com/th/id/OIP.Dx5b8SdLI8hMVDOayUuVcwAAAA?rs=1&pid=ImgDetMain',
    'https://th.bing.com/th/id/OIP.NCVDvSnqUS12iLVvbIJiSAAAAA?rs=1&pid=ImgDetMain',
    'https://th.bing.com/th/id/OIP.IYSVVKDPN5vewGnE25q6ZwHaHi?rs=1&pid=ImgDetMain'
]


@bot.command()
async def meme(ctx):

    meme_random = random.choice(meme_ambiental)
    await ctx.send("Aqui esta tu meme ambiental:")
    await ctx.send(meme_random)

#EMOJIS
emojis = ['ğŸŒ', 'ğŸŒ±', 'ğŸŒ§ï¸', 'ğŸ’§', 'â™»ï¸', 'ğŸš®', 'â˜€ï¸', 'ğŸŒ³', 'ğŸŒ', 'ğŸŒªï¸']

@bot.command()
async def emoji(ctx):

    emoji_random = random.choice(emojis)
    await ctx.send("Aqui un emoji ambiental ( ï¾‰ ï¾Ÿï½°ï¾Ÿ)ï¾‰:")
    await ctx.send(emoji_random)


#RETOS
retos_semanales = [
    'Semana sin plÃ¡stico:Evita cualquier tipo de plÃ¡stico de un solo uso (bolsas, botellas, utensilios, etc.) â™»ï¸.',
    'Semana del transporte sostenible:DesplÃ¡zate Ãºnicamente a pie, en bicicleta o usando transporte pÃºblico ğŸš².',
    'Semana vegetariana:Elimina la carne de tu dieta durante toda la semana y opta por comidas basadas en plantas ğŸŒ±.',
    'Semana de ahorro de energÃ­a:Apaga luces y dispositivos cuando no los uses. Desenchufa aparatos innecesarios ğŸ’¡.',
    'Semana sin compras innecesarias:Compra solo lo esencial y evita productos con exceso de embalaje ğŸ›’.',
    'Semana del ahorro de agua:Reduce el tiempo en la ducha, cierra el grifo mientras te cepillas y repara fugas ğŸš¿.',
    'Semana de residuos cero:Intenta generar la menor cantidad de residuos posibles; usa alternativas reutilizables ğŸ—‘ï¸.',
    'Semana de plantaciÃ³n:Planta un Ã¡rbol, cuida una planta o involÃºcrate en actividades de jardinerÃ­a ğŸŒ³.',
    'Semana de compras locales:Compra productos locales y de temporada para reducir la huella de carbono ğŸ›ï¸.',
    'Semana de conciencia ambiental:Educa a tus amigos y familiares sobre hÃ¡bitos sostenibles y comparte consejos ecolÃ³gicos ğŸ“¢.'
]

@bot.command()
async def reto(ctx):

    reto_random = random.choice(retos_semanales)
    await ctx.send("Aqui tu reto para esta semana, suerteâ˜˜ï¸:")
    await ctx.send(reto_random)

#CONSEJOS
consejos_ambientales = [
    'Apaga dispositivos en espera: DesenchÃºfalos para evitar el consumo fantasma. ğŸ”Œ',
    'Bombillas LED: Usa luces mÃ¡s eficientes y duraderas. ğŸ’¡',
    'Aprovecha la luz natural: Abre las cortinas y ahorra energÃ­a. ğŸŒ',
    'ElectrodomÃ©sticos eficientes: Compra productos con etiquetas de bajo consumo. ğŸŒ±',
    'MantÃ©n tu coche: Un vehÃ­culo eficiente consume menos. ğŸš—',
    'Instala cabezales de bajo flujo: Reducen el consumo sin perder presiÃ³n. ğŸ’§',
    'Reutiliza agua: El agua de lavar verduras sirve para regar. ğŸŒ¿',
    'Haz compost: Convierte restos de comida en abono. ğŸ‚',
    'Evita plÃ¡sticos de un solo uso: Lleva tu propia bolsa y botella. ğŸ›ï¸',
    'Limpiezas comunitarias: Participa en jornadas para limpiar tu Ã¡rea. ğŸ—‘ï¸'
]

@bot.command()
async def consejo(ctx):

    consejo_random = random.choice(consejos_ambientales)
    await ctx.send("Aqui un consejito:")
    await ctx.send(consejo_random)

#IMAGEN API
@bot.command()
async def image(ctx):

    image_url = get_contamination_image()
    if image_url:
        await ctx.send(f"AquÃ­ tienes una imagen sobre contaminaciÃ³n con sus respectivos links: {image_url}")
    else:
        await ctx.send('No se pudo encontrar la imagen,intentalo mas tarde ğŸ•')
        
bot.run("")#Es criba aqui su token

